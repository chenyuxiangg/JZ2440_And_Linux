## gcc常用编译选项

程序编译过程：预处理、编译、汇编、链接

* -v : 显示gcc版本号或gcc编译时的详细信息

* -E: 只预处理，不进行编译、汇编、链接

* -S: 只编译，不进行汇编、链接

* -c: 编译和汇编

* -o: 用自定义名字替换默认的输出文件名

* -nostdlib: 不链接标准启动文件和系统库文件

  > 这个选项常用于裸机、bootloader、linux内核等程序，因为这些程序不需要标准启动文件于库文件。只有普通应用程序需要。

**链接**就是将汇编生成的OBJ文件、系统库的OBJ文件、库文件链接起来，最终生成可以在特定平台运行的可执行程序。

**系统标准启动文件**：crt1.o、crti.o、crtbegin.o、crtn.o，对于一般应用程序，这些启动时必须的。

**连接选项：**

​				-L: 指明链接的路径

​				-l: 指明链接的库文件。eg. -lc 就是链接libc库文件。

**查看可执行文件依赖的动态库文件：**

`ldd [filename]`

**动态链接与静态链接：**

* 动态链接：使用动态链接库进行链接，生成的程序在运行时需要加载动态库才能运行，动态链接生成的程序体积较小，但需要依赖动态链接库，否则无法执行。gcc默认使用动态链接。
* 静态链接：使用静态库进行链接，生成的程序包含运行时所需要的所有库，但是静态链接生成的程序较大。生成静态链接程序需要指明`-static`选项。